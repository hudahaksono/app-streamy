<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Streamy</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main>
      <div class="box">
        <video autoplay muted loop id="video-bg">
          <source src="./img/5.2 - Render 4K.mp4" type="video/mp4">
         
        </video>
        <div class="inner-box" >
          <div class="forms-wrap">

            <form action="app.html" autocomplete="off" class="sign-in-form">
              <div class="logo">
                <img src="./img/logo-mata.png" alt="easyclass" />
                <h4 >STREAMY</h4>
              </div>

              <div class="heading">
                <h2>Sign Up</h2>
                <h6>Already have an account?</h6>
                <a href="./signin.html" class="toggle">Sign in</a>
              </div>

              <div class="actual-form">
                <div class="input-wrap">
                  <input
                    type="text"
                    minlength="4"
                    class="input-field"
                    autocomplete="off"
                    required
                  />
                  <label>Enter your name</label>
                </div>

                <div class="input-wrap">
                  <input
                    type="email"
                    class="input-field"
                    autocomplete="off"
                    required
                  />
                  <label>Enter your email</label>
                </div>

                <div class="input-wrap">
                  <input
                    type="number"
                    minlength="4"
                    class="input-field"
                    autocomplete="off"
                    maxlength="10"
                    oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                    required
                  />
                  <label>Enter your Phone</label>
                </div>

                <div class="input-wrap">
                  <input
                    type="password"
                    minlength="4"
                    class="input-field"
                    autocomplete="off"
                    required
                  />
                  <label>Password</label>
                </div>

                <input type="submit" value="Sign Up" class="sign-btn" />
              </div>
            </form>
          </div>

          <div class="carousel" style="display: none;">
            <div class="images-wrapper">
              <img src="./img/image1.png" class="image img-1 show" alt="" />
              <img src="./img/image2.png" class="image img-2" alt="" />
              <img src="./img/image3.png" class="image img-3" alt="" />
            </div>

            <div class="text-slider">
              <div class="text-wrap">
                <div class="text-group">
                  <h2>Create your own courses</h2>
                  <h2>Customize as you like</h2>
                  <h2>Invite students to your class</h2>
                </div>
              </div>

              <div class="bullets">
                <span class="active" data-value="1"></span>
                <span data-value="2"></span>
                <span data-value="3"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Javascript file -->

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const signUpForm = document.querySelector(".sign-in-form");
    
        signUpForm.addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent default form submission behavior
    
          // Collect form data
          const formData = {
            name: signUpForm.querySelector('input[type="text"]').value,
            email: signUpForm.querySelector('input[type="email"]').value,
            phone: signUpForm.querySelector('input[type="number"]').value,
            password: signUpForm.querySelector('input[type="password"]').value,
            code: "+62", // Add code parameter with value +62
            confirm_password: signUpForm.querySelector('input[type="password"]').value, // Set confirm_password same as password
            user_id: signUpForm.querySelector('input[type="text"]').value, // Set user_id same as name
          };
    
          // Check if password and confirm_password match
          const password = formData.password;
          const confirmPassword = formData.confirm_password;
          if (password !== confirmPassword) {
            console.error("Password and Confirm Password do not match");
            // Display error message to the user
            return;
          }
    
          // Make a POST request to the API
          fetch("https://adminsweb.streamy-ai.com/api/register", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(formData),
          })
            .then((response) => {
              if (!response.ok) {
                throw new Error("Network response was not ok");
              }
              return response.json();
            })
            .then((data) => {
              // Handle successful registration response
              console.log(data);
              // Redirect or show success message as needed
            })
            .catch((error) => {
              // Handle error
              console.error("Error registering user:", error);
              // Display error message to the user
            });
        });
      });
    </script>
    
    

    <script src="app.js"></script>
  </body>
</html>
